---
import CardDataAccount from "@components/CardDataAccount.astro";
import BackgroundColors from "@components/BackgroundColors.astro";

import { GetUser } from "src/scripts/usersAPI";

const token = Astro.cookies.get("jwt").value;
const user = await GetUser(token);
// const user = {"username":"","name":"","lastname":"","email":""}
---

<BackgroundColors type="data-account">
    <ul>
        <li>
            <h3>Perfil</h3>
            <CardDataAccount key="Usuario" value={user.username} />
            <CardDataAccount key="Nombre" value={user.name} />
            <CardDataAccount key="Apellidos" value={user.lastname} />
            <CardDataAccount key="Correo" value={user.email} />
            <CardDataAccount key="Contraseña" value="Contraseña$" />
        </li>
        <li>
            <h3>Configuración</h3>
            <CardDataAccount key="Moneda" value="USDT" />
        </li>
    </ul>
</BackgroundColors>
<style>
    ul {
        display: flex;
        flex-direction: column;
        justify-content: space-between;
        position: relative;

        width: 100%;
        height: 100%;

        gap: 1.5rem;
        margin: auto;
        padding: 10px;
        border-radius: 8px;
        z-index: 60;

        background-color: var(--bg-color-dark);

        html.light & {
            background-color: var(--bg-color-light);
        }

        li {
            list-style: none;

            h3 {
                font-weight: 100;
                letter-spacing: 1px;

                body.red & {
                    color: var(--red-600);
                }
                body.green & {
                    color: var(--green-600);
                }
                html.light > body.red & {
                    color: var(--red);
                }
                html.light > body.green & {
                    color: var(--green);
                }
            }
        }
    }
</style>
