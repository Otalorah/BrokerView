---
import LoaderIcon from "@components/loader/LoaderIcon.astro";

const { text, type } = Astro.props;

const isForm = type == "form";
---

{
    isForm ? (
        <button class={`btn ${type}`}>
            {text}
            <LoaderIcon />
        </button>
    ) : (
        <button class={`btn ${type}`}>{text}</button>
    )
}

<style>
    button.btn {
        position: relative;
        font-family: inherit;
        letter-spacing: 1.5px;
        cursor: pointer;
        user-select: none;

        width: 90%;
        margin: auto;
        border-radius: 4px;

        background-color: transparent;

        body.red & {
            border: 2px solid var(--red-800);
            color: var(--red-700);
        }
        body.green & {
            border: 2px solid var(--green-600);
            color: var(--green-500);
        }
        html.light > body.red & {
            border: 2px solid var(--red);
            color: var(--red);
        }
        html.light > body.green & {
            border: 2px solid var(--green);
            color: var(--green);
        }

        &.form {
            max-width: 400px;
            height: 40px;

            background-color: var(--bg-color-dark);

            html.light & {
                background-color: var(--bg-color-light);
            }

            svg {
                position: absolute;
                top: -27.5px;
                left: calc(50% - 45px);

                width: 90px;
            }
        }
        &#disable {
            color: transparent;
            pointer-events: none;

            body.red & {
                background-image: repeating-conic-gradient(
                    from var(--a),
                    var(--red-800),
                    var(--red)
                );
            }
            body.green & {
                background-image: repeating-conic-gradient(
                    from var(--a),
                    var(--green-600),
                    var(--green)
                );
            }
        }

        &.no-found {
            margin: auto;
            max-width: 400px;
            height: 40px;
        }
        &.change_password {
            font-weight: 100;
            height: 25px;
            margin: 0;

            body.red &,
            body.green & {
                border-color: var(--bg-color-light);
                color: inherit;
            }

            html.light > body.red &,
            html.light > body.green & {
                border-color: var(--bg-color-dark);
                color: inherit;
            }
        }
        &.reset_password {
            max-width: 200px;
            height: 25px;
            margin: 2rem auto 0;
        }

        &:hover {
            body.red &,
            body.green & {
                color: var(--text-color-dark);
            }

            html.light > body.red &,
            html.light > body.green & {
                color: var(--text-color-dark);
            }
            body.red & {
                background-image: repeating-conic-gradient(
                    from var(--a),
                    var(--red-800),
                    var(--red)
                );
            }
            body.green & {
                background-image: repeating-conic-gradient(
                    from var(--a),
                    var(--green-600),
                    var(--green)
                );
            }
        }
    }
</style>
